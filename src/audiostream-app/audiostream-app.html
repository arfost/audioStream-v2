<link rel="import" href="../../bower_components/polymer/polymer-element.html">
<link rel="import" href="audio-player.html">
<link rel="import" href="audiostream-tracklist.html">

<!--
<script src="../static-scripts/fbapp.js"></script>
<script src="../static-scripts/fbauth.js"></script>
<script src="../static-scripts/fbdatabase.js"></script>
<script src="../static-scripts/fbmessaging.js"></script>
<script src="../static-scripts/fbstorage.js"></script>

<script src="../static-scripts/fbinit.js"></script>
-->
<dom-module id="audiostream-app">
  <template>
    <style>
      :host {
        display: block;
        background: lightgray;
        color: rgba(0, 0, 0, 0.87);
        font-family: Roboto, Helvetica, Arial, sans-serif;
        margin: 0;
        padding: 0;
      }

      @media (max-width: 600px) {
        :host {
          margin-top: 0;
          background: lightgray;
          box-shadow: none;
        }
        :host {
          border-top: 16px solid #ffa100;
        }
      }
    </style>
    <div id="message">
      <h2>Welcome</h2>
      <audiostream-tracklist audio-player="[[$.audio]]"></audiostream-tracklist>
      <audio-player id="audio"></audio-player>
  </template>
  <script>
    /**
               * @customElement
               * @polymer
               */
    class AudiostreamApp extends Polymer.Element {
      static get is() { return 'audiostream-app'; }
      static get properties() {
        return {
          result: {
            type: String,
            value: 'nope'
          }
        };
      }

      constructor() {
        super();
      }

      connectedCallback() {
        super.connectedCallback();
        navigator.serviceWorker.register('sw.js')
          .then(reg => console.log('SW registered!', reg))
          .catch(err => console.log('Boo!', err, arguments));
      }


    }

    window.customElements.define(AudiostreamApp.is, AudiostreamApp);

  </script>
</dom-module>